fragment GateWithLastOpen on gate {
    id
    name
    number
    opens(order_by: {created_at: desc}, limit: 1) {
        created_at
    }
}

query Gates {
    gate(order_by: {number: asc}) {
        ...GateWithLastOpen
    }
}
